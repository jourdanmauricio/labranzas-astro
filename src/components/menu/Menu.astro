---
import { Icon } from 'astro-icon';
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // remove the first "/"
---

<header
  class="w-full h-14 bg-gray-700 hidden md:flex justify-between items-center px-5 sticky top-0"
>
  <span class="text-gray-100 text-2xl sm:text-3xl">Labranzas</span>
  <!-- <figure class="logo">
      <img src="" alt="Logo">
      </figure> -->
  <nav>
    <ul class="flex list-none">
      <li
        class={`p-4 transition duration-300 ease-in-out hover:bg-gray-600 currentPath === ''
          ? bg-gray-900 : ''`}
      >
        <a href="#" class="text-gray-100">Inicio</a>
      </li>
      <li
        class={`hover:bg-gray-600 p-4 transition duration-300 ease-in-out group relative ${
          currentPath === 'productos' ? 'bg-gray-900' : ''
        }`}
      >
        <a href="#" class="text-gray-100 px-4"
          >Productos
          <Icon class="w-6 inline text-gray-100" name="mdi:chevron-down" />
        </a>

        <ul
          class="absolute top-14 -left-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-out bg-gray-700 whitespace-nowrap text-gray-100"
        >
          <li
            class="pt-3 p-4 transition duration-300 ease-in-out hover:bg-gray-600"
          >
            <a href="#">Centros de mesa</a>
          </li>
          <li
            class="pt-3 p-4 transition duration-300 ease-in-out hover:bg-gray-600"
          >
            <a href="">Souvenirs</a>
          </li>
          <li
            class="pt-3 p-4 transition duration-300 ease-in-out hover:bg-gray-600"
          >
            <a href="">Hogar</a>
          </li>
        </ul>
      </li>
      <li
        class={`p-4 transition duration-300 ease-in-out hover:bg-gray-600 ${
          currentPath === 'questions' ? 'bg-gray-900' : ''
        }`}
      >
        <a href="#" class="text-gray-100 px-4">CÃ³mo comprar?</a>
      </li>
      <li
        class={`p-4 transition duration-300 ease-in-out hover:bg-gray-600 ${
          currentPath === 'contacto' ? 'bg-gray-900' : ''
        }`}
      >
        <a href="#" class="text-gray-100 px-4">Contacto</a>
      </li>
    </ul>
  </nav>
  <button
    class="p-2 rounded-full transition duration-300 ease-in-out hover:hover:bg-gray-600"
  >
    <Icon class="w-6 inline text-gray-100" name="mdi:cart-outline" />
  </button>
</header>
